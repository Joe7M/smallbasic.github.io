<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SmallBASIC | IMAGE</title>
  <meta name="description" content="Creates a graphical image object providing access to the following sub-commands: show([x,y [,zindex [,opacity]]]), hide, save([x,y [,w,h]])">
  <link rel="canonical" href="617">
  <link rel="keywords" href="IMAGE [#handle | fileName | http://path-to-file.png | image-var | array of pixmap data]">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon" type="image/png" href="/images/sb-desktop-32x32.png">
  <script src="/clipboard.js"></script>
</head>
  <body>
<button onclick="topFunction()" id="BackToTopBtn" title="Go to top">&#11205;</button>
<script src="/backtotop.js"></script>
<div class="wrapAll clearfix">
  <nav class="navigation">
    <div class="logo">
      <a href="/"><img src='/images/sb-logo.png?v=2' alt="logo"></a>
    </div>
    <div class="navlinks">
      <a  href="/pages/download.html">Download</a>
      <a  href="/pages/news.html">News</a>
      <a  href="/pages/community.html">Community</a>
      <a  href="/pages/articles.html">Resources</a>
      <a class='active' href="/pages/reference.html">Language Reference</a>
      <a  href="/pages/guide.html">SmallBASIC Manual</a>
    </div>
  </nav>
  <div class="mainsection">
    <div class="tabs clearfix">
      <div class="tabsRight">
          <a target="_github" href="https://github.com/smallbasic/smallbasic.github.io/blob/master/_build/reference/617-graphics-image.markdown">Edit</a>
          <a target="_github" href="https://github.com/smallbasic/smallbasic.github.io/commits/master/_build/reference/617-graphics-image.markdown">History</a>
      </div>
    </div>
<div class="article">
  <h1>IMAGE</h1>
  <blockquote>IMAGE [#handle | fileName | http://path-to-file.png | image-var | array of pixmap data]</blockquote>
  <div class="siteSub">
    <p>
      <a href="/">Home</a> &gt;
      <a href="/pages/reference.html">Reference</a> &gt;
      <a href="/pages/graphics.html">Graphics</a>
    </p>
  </div>
</blockquote>
<p>The IMAGE statement provides access to extended support for image
manipulation. There are two supported image formats: PNG and XPM (see
below).</p>
<h3 id="image-access">Image access</h3>
<p>Create via open file handle</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Open</span> <span class="st">&quot;circle.png&quot;</span> <span class="kw">For Output As</span> #<span class="dv">1</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(#<span class="dv">1</span>)</span></code></pre></div>
<p>Create via file name</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(<span class="st">&quot;circle.png&quot;</span>)</span></code></pre></div>
<p>Create via URL (note only works with HTTP not HTTPS)</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(<span class="st">&quot;http://pngimg.com/uploads/tesla_car/tesla_car_PNG26.png&quot;</span>)</span></code></pre></div>
<p>Create via screen scrape (x, y, width, height)</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(<span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">100</span>)</span></code></pre></div>
<p>Create via another image variable</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>k = <span class="fu">Image</span>(...)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(k)</span></code></pre></div>
<p>Create via 2D array</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;Create image array a1 without transparency</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">dim</span> a1(<span class="dv">100</span>, <span class="dv">200</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>y = <span class="dv">0</span> <span class="kw">To</span> <span class="dv">99</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">For </span>x = <span class="dv">0</span> <span class="kw">To</span> <span class="dv">199</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    r += <span class="dv">5</span>: g += <span class="dv">10</span>: b += <span class="dv">15</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    a1(y, x) = <span class="fu">rgb</span>(r%<span class="dv">255</span>, g%<span class="dv">255</span>,b%<span class="dv">255</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Next</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="kw">Next</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;Create image array a2 with transparency</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;Transparency is a value between 0 and 255</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;0 is fully transparent; 255 is solid</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="dt">dim</span> a2(<span class="dv">100</span>, <span class="dv">200</span>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>r = <span class="dv">255</span>: g = <span class="dv">255</span>: b = <span class="dv">255</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>y = <span class="dv">0</span> <span class="kw">To</span> <span class="dv">99</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  alpha = <span class="dv">5</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="kw">For </span>x = <span class="dv">0</span> <span class="kw">To</span> <span class="dv">199</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    alpha += <span class="dv">0.1</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    transparency = <span class="fu">round</span>(alpha) * <span class="dv">10</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    a2(y, x) = (transparency <span class="kw">lshift</span> <span class="dv">24</span>) - <span class="fu">rgb</span>(r,g,b)    </span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Next</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="kw">Next</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;Create and display images</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>i1 = <span class="fu">Image</span>(a1)</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>i2 = <span class="fu">Image</span>(a2)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>i1.show(<span class="dv">20</span>,<span class="dv">20</span>)</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>i2.show(<span class="dv">0</span>,<span class="dv">0</span>)</span></code></pre></div>
<p>Create via array of <a
href="https://en.wikipedia.org/wiki/X_PixMap">X_PixMap</a> data</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;16 18 4 1&quot;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@ c #547B43&quot;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;  c #ffffff&quot;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;+ c none&quot;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;x c #ff0000&quot;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@@@@@@@+++++++++&quot;</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@    @++++++++++&quot;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@   @+++++++++++&quot;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@   @++@++++++++&quot;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@    @@+++++++++&quot;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@     @+++@+++++&quot;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@     @++@@++++@&quot;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@ xxx  @@  @++@@&quot;</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@  xxx    xx@@ @&quot;</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@   xxx  xxx   @&quot;</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@    xxxxxx    @&quot;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@     xxxx     @&quot;</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@    xxxxxx    @&quot;</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@   xxx  xxx   @&quot;</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@  xxx    xxx  @&quot;</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@ xxx      xxx @&quot;</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@              @&quot;</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>im &lt;&lt; <span class="st">&quot;@@@@@@@@@@@@@@@@&quot;</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(im)</span></code></pre></div>
<h3 id="show-command">Show command</h3>
<p>zIndex controls whether the image will be displayed over or under
another image. Images with higher zIndex values are drawn over the top
of images with lower zIndex values. Opacity controls whether to display
the image as solid or semi-transparent. Opacity values range from 1-100,
with higher opacity values making the image less transparent. The
default is 100 resulting in a solid image. When calling the show command
a second time with new coordinates, the image will move to the new
position.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>i.show([x,y [,zindex [,opacity]]])</span></code></pre></div>
<h3 id="hide-command">Hide command</h3>
<p>The hide command hides the image from display</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a> i.hide()</span></code></pre></div>
<h3 id="draw-command">Draw command</h3>
<p>The draw command draws the image immediately to the screen. Calling
the draw command a second time with new coordinates, will draw the same
image a second time at the new position to the screen.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a> i.<span class="fu">draw</span>([x,y [,opacity]])</span></code></pre></div>
<h3 id="save-command">Save command</h3>
<p>The save command saves the image data into the given file handle,
file name or array</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">dim</span> png</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>i.save(png)</span></code></pre></div>
<h3 id="clip-command">Clip command</h3>
<p>Clips the image. Next draw or show command will display only this
part of the image. On the same image a new clip can be set.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>i.clip(<span class="fu">left</span>, top, width, height)</span></code></pre></div>
<h3 id="filter-command-console-version-only">Filter command (console
version only)</h3>
<p>Calls the supplied callback function on each pixel</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func </span>colorToAlpha(x)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> x</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>png.filter(<span class="kw">use</span> colorToAlpha(x))</span></code></pre></div>
<h3 id="paste-command-console-version-only">Paste command (console
version only)</h3>
<p>Paste the given image into this image at the given x, y location</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>png2 = <span class="fu">Image</span>(w, h)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>png2.paste(png1, x, y)</span></code></pre></div>
<h3 id="example-1">Example 1</h3>
<div class="sourceCode" id="cb15"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dt">Const</span> CSI_EL = <span class="fu">Chr</span>(<span class="dv">27</span>) + <span class="st">&quot;[K&quot;</span>  <span class="co">&#39; EL - Erase in Line (clear to end of line).</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">Sub </span>title(txt) </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Locate</span> <span class="dv">0</span>, <span class="dv">0</span>: <span class="fu">Color</span> <span class="dv">7</span>, <span class="dv">0</span>: ? CSI_EL; txt;</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="kw">End Sub</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Draw a demo image with text on screen:</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Draw a demo image&quot;</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">Pset</span> <span class="dv">100</span>, <span class="dv">100</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">Circle</span> Step <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">50</span> <span class="fu">Color</span> <span class="dv">7</span> Filled</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="fu">Circle</span> Step <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">35</span> <span class="fu">Color</span> <span class="dv">1</span> Filled</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>text = <span class="st">&quot;Hello&quot;</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="fu">At</span> <span class="fu">Point</span>(<span class="dv">0</span>) - <span class="fu">Txtw</span>(text) \ <span class="dv">2</span>, <span class="fu">Point</span>(<span class="dv">1</span>) - (<span class="fu">Txth</span>(<span class="st">&quot;.&quot;</span>) \ <span class="dv">2</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="fu">Color</span> <span class="dv">14</span>, <span class="dv">1</span>: <span class="kw">Print</span> text;</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Create image from screen&quot;</span>)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">102</span>, <span class="dv">102</span>)  <span class="co">&#39; Create image from screen (x, y, width, height)</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">350</span>, <span class="dv">50</span>)              <span class="co">&#39; Show the image at location (x, y)</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Hide the image&quot;</span>)</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>i.Hide()                     <span class="co">&#39; Hide the image</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Save the image to 2-D array (y, x) of pixels&quot;</span>)</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>i.Save(a)                    <span class="co">&#39; Save the image to 2-D array (y, x) of pixels</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>i2 = <span class="fu">Image</span>(a)                <span class="co">&#39; Create a new image from the 2-D array</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>i2.Show(<span class="dv">200</span>, <span class="dv">90</span>)             <span class="co">&#39; Show the new image at location (x, y)</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Modify the colors of the 2-D array (y, x)&quot;</span>)</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>y = <span class="dv">0</span> <span class="kw">To</span> <span class="fu">Ubound</span>(a, <span class="dv">1</span>)    <span class="co">&#39; Modify the colors of the 2-D array (y, x)</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>  <span class="kw">For </span>x = <span class="dv">0</span> <span class="kw">To</span> <span class="fu">Ubound</span>(a, <span class="dv">2</span>)</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>    a(y, x) += <span class="dv">100</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Next</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a><span class="kw">Next</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>i2 = <span class="fu">Image</span>(a)                <span class="co">&#39; Create a new image from the modified 2-D array</span></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>i2.Show(<span class="dv">350</span>, <span class="dv">50</span>)             <span class="co">&#39; Show the new image at location (x, y)</span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Copy the top-left of the 2-D array (y, x)&quot;</span>)</span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>half_y = <span class="fu">Ubound</span>(a, <span class="dv">1</span>) / <span class="dv">2</span>    <span class="co">&#39; Copy the top-left of the 2-D array (y, x)</span></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>half_x = <span class="fu">Ubound</span>(a, <span class="dv">2</span>) / <span class="dv">2</span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a><span class="dt">Dim</span> a2(half_y, half_x)</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>y = <span class="dv">0</span> <span class="kw">To</span> half_y</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>  <span class="kw">For </span>x = <span class="dv">0</span> <span class="kw">To</span> half_x</span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>    a2(y, x) = a(y, x)</span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Next</span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a><span class="kw">Next</span></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>i2 = <span class="fu">Image</span>(a2)               <span class="co">&#39; Create a new image from the top-left 2-D array</span></span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>i2.Show(<span class="dv">200</span>, <span class="dv">90</span>)             <span class="co">&#39; Show the new image at location (x, y)</span></span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Note: &#39;zindex&#39; is probably order of layers - above/under other image(s).</span></span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Show original image using zindex &amp; opacity&quot;</span>)</span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">400</span>, <span class="dv">100</span>, <span class="dv">1</span>, <span class="dv">50</span>)      <span class="co">&#39; Show original image (x, y, zindex, opacity)</span></span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a>i3 = <span class="fu">Image</span>(i)                <span class="co">&#39; Create a new image from original image</span></span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a>i3.Show(<span class="dv">440</span>, <span class="dv">130</span>, <span class="dv">0</span>)         <span class="co">&#39; Show the new image (x, y, zindex)</span></span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Note: file name is case sensitive on Linux.</span></span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Save &amp; Load original image as a PNG file&quot;</span>)</span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a><span class="fu">Open</span> <span class="st">&quot;circle.png&quot;</span> <span class="kw">For Output As</span> #<span class="dv">1</span></span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a>i.Save(#<span class="dv">1</span>)                   <span class="co">&#39; Save original image as a PNG file</span></span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a><span class="fu">Close</span> #<span class="dv">1</span></span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a><span class="fu">Open</span> <span class="st">&quot;circle.png&quot;</span> <span class="kw">For Input As</span> #<span class="dv">1</span></span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a>i4 = <span class="fu">Image</span>(#<span class="dv">1</span>)               <span class="co">&#39; Load image from a PNG file</span></span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a><span class="fu">Close</span> #<span class="dv">1</span></span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>i4.Show(<span class="dv">600</span>, <span class="dv">20</span>)             <span class="co">&#39; Show loaded image (x, y)</span></span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span></code></pre></div>
<h3 id="example-2">Example 2</h3>
<div class="sourceCode" id="cb16"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Notes: </span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 1. Using POINT and PSET is a much slower option then using:</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    i = IMAGE(x, y, width, height) and i.Show(x, y) - (See Part-1).</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; 2. The 2-D array that holds the image, a(y, x), must be equilateral, e.g.</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    a(2 To 6, 1 To 5), etc; Using a(1 To 5, 1 To 6), for example, is wrong.</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 3. It&#39;s possible to use POINT or RGB commands (alpha is not supported </span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    in this case) to create the 2-D array that holds the image, a(y, x).</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="dt">Const</span> CSI_EL = <span class="fu">Chr</span>(<span class="dv">27</span>) + <span class="st">&quot;[K&quot;</span>  <span class="co">&#39; EL - Erase in Line (clear to end of line).</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="kw">Sub </span>title(txt) </span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Locate</span> <span class="dv">0</span>, <span class="dv">0</span>: <span class="fu">Color</span> <span class="dv">7</span>, <span class="dv">0</span>: ? CSI_EL; txt;</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="kw">End Sub</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Draw a demo image with text on screen:</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Draw a demo image&quot;</span>)</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="fu">Pset</span> <span class="dv">100</span>, <span class="dv">100</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="fu">Circle</span> Step <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">50</span> <span class="fu">Color</span> <span class="dv">7</span> Filled</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="fu">Circle</span> Step <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">35</span> <span class="fu">Color</span> <span class="dv">1</span> Filled</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>text = <span class="st">&quot;Hello&quot;</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="fu">At</span> <span class="fu">Point</span>(<span class="dv">0</span>) - <span class="fu">Txtw</span>(text) \ <span class="dv">2</span>, <span class="fu">Point</span>(<span class="dv">1</span>) - (<span class="fu">Txth</span>(<span class="st">&quot;.&quot;</span>) \ <span class="dv">2</span>)</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="fu">Color</span> <span class="dv">14</span>, <span class="dv">1</span>: <span class="kw">Print</span> text;</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Create 2-D image array from screen using POINT&quot;</span>)</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="dt">Dim</span> a(<span class="dv">49</span> <span class="kw">To</span> <span class="dv">152</span>, <span class="dv">48</span> <span class="kw">To</span> <span class="dv">151</span>)  <span class="co">&#39; Create 2-D image array from screen using POINT</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>y = <span class="dv">49</span> <span class="kw">To</span> <span class="dv">152</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">For </span>x = <span class="dv">48</span> <span class="kw">To</span> <span class="dv">151</span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>    a(y, x) = <span class="fu">Point</span>(x, y) </span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Next</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a><span class="kw">Next</span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Show the 2-D array (slow) using PSET&quot;</span>)</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>y = <span class="dv">49</span> <span class="kw">To</span> <span class="dv">152</span>            <span class="co">&#39; Show the 2-D array (slow) using PSET</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>  <span class="kw">For </span>x = <span class="dv">48</span> <span class="kw">To</span> <span class="dv">151</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Pset</span> x + <span class="dv">150</span>, y + <span class="dv">85</span>, a(y, x) </span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Next</span></span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a><span class="kw">Next</span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Show the image (fast) using SHOW&quot;</span>)</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(a)                 <span class="co">&#39; Convert the 2-D array (y, x) of pixels to image</span></span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">350</span>, <span class="dv">230</span>)             <span class="co">&#39; Show the image (fast) at location (x, y)</span></span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span></code></pre></div>
<h3 id="example-3">Example 3</h3>
<div class="sourceCode" id="cb17"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Notes:</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 1. You may load an existing XPM image file, the same way you load PNG image</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    file; Or you may store the XPM data within the source code (DATA keyword</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    can help with this...).</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 2. XPM is a text image file, as opposed to PNG which is a binary image file.</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    XPM supports high quality images, for more details and options see: </span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    https://en.wikipedia.org/wiki/X_PixMap</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; In this example we use the simple and handy XPM2 format (as opposed to the </span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; latter and more standard C format, XPM3);</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Create the XPM image array:</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; a &lt;&lt; &quot;! XPM2&quot;     &#39; (We Don&#39;t use this header line in SmallBASIC 0.12.6)</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>a &lt;&lt; <span class="st">&quot;110 200 3 1&quot;</span>  <span class="co">&#39; Width=110, Height=200, Colors=3, Character-Per-Pixel=1</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>a &lt;&lt; <span class="st">&quot;a c #FF0000&quot;</span>  <span class="co">&#39; Character &quot;a&quot; is RGB(0xFF, 0x00, 0x00) - RED</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>a &lt;&lt; <span class="st">&quot;b c NONE&quot;</span>     <span class="co">&#39; Character &quot;b&quot; is transparency color (NONE)</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>a &lt;&lt; <span class="st">&quot;c c #0000FF&quot;</span>  <span class="co">&#39; Character &quot;c&quot; is RGB(0x00, 0x00, 0xFF) - BLUE</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>i = <span class="dv">1</span> <span class="kw">To</span> <span class="dv">200</span>    <span class="co">&#39; Create an image of exactly 110x200 (x,y) pixels</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  a &lt;&lt; <span class="fu">String</span>(<span class="dv">30</span>, <span class="st">&quot;a&quot;</span>) + <span class="fu">String</span>(<span class="dv">50</span>, <span class="st">&quot;b&quot;</span>) + <span class="fu">String</span>(<span class="dv">30</span>, <span class="st">&quot;c&quot;</span>)</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="kw">Next </span>i</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="fu">Color</span> <span class="dv">1</span>, <span class="dv">7</span>: <span class="fu">Cls</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(a)                 <span class="co">&#39; Convert the XPM array to image</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">150</span>, <span class="dv">50</span>)              <span class="co">&#39; Show the image at location (x, y)</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="fu">At</span> <span class="dv">150</span> - <span class="dv">100</span>, <span class="dv">50</span> - <span class="dv">30</span> </span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="kw">Print</span> <span class="st">&quot;This is XPM image with transparency!&quot;</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; More about XPM2 - from https://en.wikipedia.org/wiki/X_PixMap:</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; --------------------------------------------------------------</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; XPM2 simplifies the format by removing all C codes. An example:</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; ! XPM2</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 48 4 2 1</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; a c #FFFFFF</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; b c #000000</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; abaabaababaaabaabababaabaabaababaabaaababaabaaab</span></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; abaabaababaaabaabababaabaabaababaabaaababaabaaab</span></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; abaabaababaaabaabababaabaabaababaabaaababaabaaab</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; abaabaababaaabaabababaabaabaababaabaaababaabaaab</span></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; This is an XPM2 file with width 48, height 4, 2 colors, and 1 character per</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; pixel.</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; One tool is known to use only a to p for 16 colors, switching to aa up to dp</span></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; for 64 colors, but still reading single character encodings for 64 colors;</span></span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; compare Base64.</span></span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; With more colors the codes use more characters, e.g. aa up to pp for</span></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 16 x 16 = 256 colors. This is less useful for text editors, because a string</span></span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; ab could be actually the middle of two adjacent pixels dabc.</span></span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Spaces are allowed as color code, but might be a bad idea depending on the</span></span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; used text editor.</span></span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Without control codes, space, and quote (needed in XPM1 and XPM3)</span></span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 128 - 33 - 2 = 93 ASCII characters are available for single character color</span></span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; codes.</span></span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Simplified example: 90 US-ASCII characters could be arranged into nine </span></span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; non-overlapping sets of 10 characters. Thus unambiguous strings of nine </span></span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; characters could set the color of each pixel by its XPM palette index with </span></span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; up to 109 = 1000000000 colors (compare to GIF, which supports only 256).</span></span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; For XPM2 it is clear how many lines belong to the image - two header lines, </span></span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; the second header line announcing the number of color codes (2 lines in the </span></span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; example above) and rows (height 4 in the example above), </span></span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; e.g. 2 + 2 + 4 = 8 lines.</span></span></code></pre></div>
<h3 id="example-4">Example 4</h3>
<div class="sourceCode" id="cb18"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Color</span> <span class="dv">7</span>, <span class="dv">1</span>: <span class="fu">Cls</span>              <span class="co">&#39; (for recognizing transparency color)</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; --- [1]</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="kw">Restore</span> Demo_XPM_Image       <span class="co">&#39; Create a demo XPM image array</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>i = <span class="dv">1</span> <span class="kw">To</span> <span class="dv">12</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Read</span> s</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  a &lt;&lt; s</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="kw">Next </span>i</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(a)                 <span class="co">&#39; Convert the XPM array to image</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">10</span>, <span class="dv">10</span>)               <span class="co">&#39; [1] Show the image at location (x, y)</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="fu">Open</span> <span class="st">&quot;SB.png&quot;</span> <span class="kw">For Output As</span> #<span class="dv">1</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  i.Save(#<span class="dv">1</span>)                 <span class="co">&#39; Save XPM image as a PNG file</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="fu">Close</span> #<span class="dv">1</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; --- [2]</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(<span class="st">&quot;SB.png&quot;</span>)          <span class="co">&#39; Load image from PNG file, using a &quot;file name&quot;</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">30</span>, <span class="dv">30</span>)               <span class="co">&#39; [2] Show loaded image (x, y)</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; --- [3]</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="fu">Open</span> <span class="st">&quot;SB.png&quot;</span> <span class="kw">For Input As</span> #<span class="dv">1</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>  i = <span class="fu">Image</span>(#<span class="dv">1</span>)              <span class="co">&#39; Load image from PNG file, using a file number</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="fu">Close</span> #<span class="dv">1</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">50</span>, <span class="dv">50</span>)               <span class="co">&#39; [3] Show loaded image (x, y)</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; --- [4]</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a><span class="fu">Open</span> <span class="st">&quot;SB.png&quot;</span> <span class="kw">For Input As</span> #<span class="dv">1</span>  <span class="co">&#39; Load image from PNG file into 1-D array of</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>  l = <span class="fu">Lof</span>(<span class="dv">1</span>)                   <span class="co">&#39;  PNG byte data (integers)</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Dim</span> a(<span class="dv">1</span> <span class="kw">To</span> l)                <span class="co">&#39; (It&#39;s much faster to allocate space first)</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>  <span class="kw">For </span>i = <span class="dv">1</span> <span class="kw">To</span> l <span class="kw">Do</span> a(i) = <span class="fu">Bgetc</span>(<span class="dv">1</span>)</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a><span class="fu">Close</span> #<span class="dv">1</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(a)                 <span class="co">&#39; Create an image from the 1-D array</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">80</span>, <span class="dv">80</span>)               <span class="co">&#39; [4] Show loaded image (x, y)</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; --- [5]</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a><span class="pp">Import</span> Base64                <span class="co">&#39; (See Base64 Encoder/Decoder UNIT above, or</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>                             <span class="co">&#39;  in: Home -- Code library -- Units section)</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a><span class="kw">Restore</span> Base64_encoded_PNG   <span class="co">&#39; Load image from Base64 encoded PNG data</span></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>s = <span class="st">&quot;&quot;</span>                       <span class="co">&#39;  into 1-D array of PNG byte data (integers)</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>i = <span class="dv">1</span> <span class="kw">To</span> <span class="dv">3</span></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Read</span> d</span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>  s += d</span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a><span class="kw">Next </span>i</span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a>a = base64.Decode_Base64(s)  <span class="co">&#39; Decode Base64 PNG string to 1-D array</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(a)                 <span class="co">&#39; Create an image from the 1-D array</span></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">100</span>, <span class="dv">100</span>)             <span class="co">&#39; [5] Show loaded image (x, y)</span></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; --- [6]</span></span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a><span class="kw">Restore</span> Demo_XPM_Image       <span class="co">&#39; Save XPM image array as XPM file</span></span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a><span class="dt">Dim</span> a(<span class="dv">1</span> <span class="kw">To</span> <span class="dv">12</span>)</span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>i = <span class="dv">1</span> <span class="kw">To</span> <span class="dv">12</span> <span class="kw">Do</span> <span class="fu">Read</span> a(i)</span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a><span class="fu">Tsave</span> <span class="st">&quot;SB.xpm&quot;</span>, a</span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a><span class="fu">Tload</span> <span class="st">&quot;SB.xpm&quot;</span>, a2           <span class="co">&#39; Load image from XPM file into array of strings</span></span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(a2)                <span class="co">&#39; Convert the XPM array to image</span></span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">120</span>, <span class="dv">120</span>)             <span class="co">&#39; [6] Show loaded image (x, y)</span></span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; --- [7]</span></span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a><span class="fu">Open</span> <span class="st">&quot;http://smallbasic.sourceforge.net/images/logo.png&quot;</span> <span class="kw">For Input As</span> #<span class="dv">1</span></span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a>  i = <span class="fu">Image</span>(#<span class="dv">1</span>)              <span class="co">&#39; Load PNG image from web (you must be on-line)</span></span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a><span class="fu">Close</span> #<span class="dv">1</span></span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a>i.Show(<span class="dv">150</span>, <span class="dv">150</span>)             <span class="co">&#39; [7] Show loaded image (x, y)</span></span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb18-63"><a href="#cb18-63" aria-hidden="true" tabindex="-1"></a><span class="kw">End</span></span>
<span id="cb18-64"><a href="#cb18-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-65"><a href="#cb18-65" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Note: you may use the Base64 Encoder/Decoder UNIT above to convert PNG file</span></span>
<span id="cb18-66"><a href="#cb18-66" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;       into Base64 encoded string (large file takes time to convert!).</span></span>
<span id="cb18-67"><a href="#cb18-67" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;       It allows you to store the PNG file within the source code.</span></span>
<span id="cb18-68"><a href="#cb18-68" aria-hidden="true" tabindex="-1"></a><span class="kw">Label</span> Base64_encoded_PNG  <span class="co">&#39; (With transparency color)</span></span>
<span id="cb18-69"><a href="#cb18-69" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;iVBORw0KGgoAAAANSUhEUgAAABUAAAAJAQAAAAD1eFrbAAAAAnRSTlMAAHaTzTgAAAA&quot;</span></span>
<span id="cb18-70"><a href="#cb18-70" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;oSURBVHgBHcdBAQAwDMJA6qI/LLSOkDU5kzZYXhck8mKPMK3vsvOxe3i6Bu6pAW2gAA&quot;</span></span>
<span id="cb18-71"><a href="#cb18-71" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;AAAElFTkSuQmCC&quot;</span></span>
<span id="cb18-72"><a href="#cb18-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-73"><a href="#cb18-73" aria-hidden="true" tabindex="-1"></a><span class="kw">Label</span> Demo_XPM_Image</span>
<span id="cb18-74"><a href="#cb18-74" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;21 9 2 1&quot;</span>     <span class="co">&#39; Width=21, Height=9, Colors=2, Character-Per-Pixel=1</span></span>
<span id="cb18-75"><a href="#cb18-75" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;. c NONE&quot;</span>     <span class="co">&#39; Character &quot;.&quot; is transparency color (known as &quot;NONE&quot;)</span></span>
<span id="cb18-76"><a href="#cb18-76" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;o c #FFFFFF&quot;</span>  <span class="co">&#39; Character &quot;o&quot; is RGB(0xFF, 0xFF, 0xFF) - WHITE</span></span>
<span id="cb18-77"><a href="#cb18-77" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;.....................&quot;</span></span>
<span id="cb18-78"><a href="#cb18-78" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;...ooooo...ooooooo...&quot;</span></span>
<span id="cb18-79"><a href="#cb18-79" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;..oo...oo..oo....oo..&quot;</span></span>
<span id="cb18-80"><a href="#cb18-80" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;..oo.......oo....oo..&quot;</span></span>
<span id="cb18-81"><a href="#cb18-81" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;...ooooo...ooooooo...&quot;</span></span>
<span id="cb18-82"><a href="#cb18-82" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;.......oo..oo....oo..&quot;</span></span>
<span id="cb18-83"><a href="#cb18-83" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;..oo...oo..oo....oo..&quot;</span></span>
<span id="cb18-84"><a href="#cb18-84" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;...ooooo...ooooooo...&quot;</span></span>
<span id="cb18-85"><a href="#cb18-85" aria-hidden="true" tabindex="-1"></a><span class="dt">Data</span> <span class="st">&quot;.....................&quot;</span></span></code></pre></div>
<h3 id="example-5">Example 5</h3>
<div class="sourceCode" id="cb19"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Dedicated to johnno56</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="dt">Const</span> CSI_EL = <span class="fu">Chr</span>(<span class="dv">27</span>) + <span class="st">&quot;[K&quot;</span>  <span class="co">&#39; EL - Erase in Line (clear to end of line).</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="kw">Sub </span>title(txt)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Locate</span> <span class="dv">0</span>, <span class="dv">0</span>: <span class="fu">Color</span> <span class="dv">7</span>, <span class="dv">0</span>: ? CSI_EL; txt;</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="kw">End Sub</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Draw a demo image with text on screen:</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>title(<span class="st">&quot;Draw a demo image&quot;</span>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="fu">Pset</span> <span class="dv">100</span>, <span class="dv">100</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="fu">Circle</span> Step <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">50</span> <span class="fu">Color</span> <span class="dv">7</span> Filled</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="fu">Circle</span> Step <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">35</span> <span class="fu">Color</span> <span class="dv">1</span> Filled</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>text = <span class="st">&quot;Hello&quot;</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="fu">At</span> <span class="fu">Point</span>(<span class="dv">0</span>) - <span class="fu">Txtw</span>(text) \ <span class="dv">2</span>, <span class="fu">Point</span>(<span class="dv">1</span>) - (<span class="fu">Txth</span>(<span class="st">&quot;.&quot;</span>) \ <span class="dv">2</span>)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="fu">Color</span> <span class="dv">14</span>, <span class="dv">1</span>: <span class="kw">Print</span> text;</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="kw">Pause</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>i = <span class="fu">Image</span>(<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">102</span>, <span class="dv">102</span>)  <span class="co">&#39; Create image from screen (x, y, width, height)</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="fu">Color</span> <span class="dv">7</span>, <span class="dv">0</span>: <span class="fu">Cls</span>              <span class="co">&#39; Erase the demo image.</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Note:</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 1. zIndex parameter is used for the IMAGE sub-command SHOW, its syntax is:</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    SHOW([x,y [,zindex [,opacity]]])</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 2. &#39;zindex&#39; is the order of layers, i.e. under or above other image layers.</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    I&#39;m not aware of any limits for how many image layers can be used.</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 3. Using &#39;zindex&#39; is simple, for example: layer 0 is above layer -1;</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    layer -8 is below layer -7; layer 11 is above layer 10; etc.</span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; In this example we show 9 images on different layers:</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a><span class="dt">Dim</span> i2(<span class="dv">1</span> <span class="kw">To</span> <span class="dv">9</span>)</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>layer = <span class="dv">1</span> <span class="kw">To</span> <span class="dv">9</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>  i2(layer) = <span class="fu">Image</span>(i)   <span class="co">&#39; Copy the demo image to new image</span></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>  t = i2(layer)          <span class="co">&#39; Use temporay variable to hold image (for Show)</span></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; Change the &#39;x&#39; and &#39;y&#39; properties of t image:</span></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>  t.x = <span class="dv">50</span> + layer * <span class="dv">35</span></span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>  t.y = <span class="dv">50</span> + layer * <span class="dv">25</span></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">At</span> t.x + <span class="dv">100</span>, t.y: <span class="fu">Color</span> <span class="dv">7</span>, <span class="dv">0</span>  <span class="co">&#39; (for display text info)</span></span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; Change the &#39;zIndex&#39; property of t image:</span></span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Select Case </span>layer</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Case</span> <span class="dv">1</span>: t.zIndex =  <span class="dv">0</span>  : ? <span class="st">&quot; Using layer # 0&quot;</span></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Case</span> <span class="dv">2</span>: t.zIndex = -<span class="dv">2</span>  : ? <span class="st">&quot; Using layer # -2 (below layer -1)&quot;</span>;</span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Case</span> <span class="dv">3</span>: t.zIndex = -<span class="dv">1</span>  : ? <span class="st">&quot; Using layer # -1 (below layer 0)&quot;</span>;</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Case</span> <span class="dv">4</span>: t.zIndex =  <span class="dv">3</span>  : ? <span class="st">&quot; Using layer # 3  (above layer 2)&quot;</span>;</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Case</span> <span class="dv">5</span>: t.zIndex =  <span class="dv">2</span>  : ? <span class="st">&quot; Using layer # 2  (above layer 1)&quot;</span>;</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Case</span> <span class="dv">6</span>: t.zIndex = -<span class="dv">9</span>  : ? <span class="st">&quot; Using layer # -9 (below layer -8)&quot;</span>;</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Case</span> <span class="dv">7</span>: t.zIndex = -<span class="dv">7</span>  : ? <span class="st">&quot; Using layer # -7 (below layer -6)&quot;</span>;</span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Case</span> <span class="dv">8</span>: t.zIndex = -<span class="dv">3</span>  : ? <span class="st">&quot; Using layer # -3 (below layer -2)&quot;</span>;</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Case</span> <span class="dv">9</span>: t.zIndex =  <span class="dv">4</span>  : ? <span class="st">&quot; Using layer # 4  (above layer 3)&quot;</span>;</span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>  <span class="kw">End Select</span></span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>  title(<span class="st">&quot;IMAGE # &quot;</span> + layer + <span class="st">&quot;: &quot;</span> + <span class="fu">Str</span>(t))  <span class="co">&#39; Print image properties</span></span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>  t.Show()   <span class="co">&#39; Show image (x, y, zindex)</span></span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Pause</span></span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a><span class="kw">Next </span>layer</span></code></pre></div>
<h3 id="base64-decoder-for-example-4">Base64 decoder for example 4</h3>
<div class="sourceCode" id="cb20"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">REM Purpose:   A Base64 Encoder/Decoder UNIT.</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">REM File name: base64.bas</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">REM Unit name: base64</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">REM Version:   1.0.1  21/05/2016</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">REM Author:    Christian d&#39;Heureuse; shian (See License below)</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Notes:</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 1. Translated from VBasic to SmallBASIC (shian).</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 2. Useful for IMAGE keyword, and for any binary-to-text encoding/decoding.</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    Base64 is often used to embed binary data in source code.</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 3. Since this is a translated code, I did not add much comments about the</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    encoding/decoding method... So for more details about it see:</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    https://en.wikipedia.org/wiki/Base64</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 4. License:</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    - A Base64 Encoder/Decoder. This module is used to encode and decode data</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;      in Base64 format as described in RFC 1521.</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    - Home page: www.source-code.biz.</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    - Code from: http://www.source-code.biz/snippets/vbasic/12.htm</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    - License: GNU/LGPL (www.gnu.org/licenses/lgpl.html).</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    - Copyright 2007: Christian d&#39;Heureuse, Inventec Informatik AG, Switzerland.</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;    - This module is provided &quot;as is&quot; without warranty of any kind.</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; -- Start Demo code --- --- --- --- --- --- --- --- --- --- ---</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Import base64                  &#39; (Import from another .bas file)</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Const FILE = &quot;SB.png&quot;          &#39; (Change it to any other file name)</span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; &#39; Example using a &quot;file name&quot;:</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; s = base64.Encode_Base64(FILE) &#39; Encode 1-D bytes-array to Base64-string</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; a = base64.Decode_Base64(s)    &#39; Decode Base64-string to 1-D bytes-array</span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; i = Image(a)                   &#39; Convert 1-D bytes-array to image</span></span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; i.Show(10, 10)                 &#39; Show image at location (x, y)</span></span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Showpage</span></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; &#39; Example using a file # (opened for input):</span></span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Open FILE For Input As #1</span></span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; s = base64.Encode_Base64(1)    &#39; Encode 1-D bytes-array to Base64-string</span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Close #1</span></span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; a = base64.Decode_Base64(s)    &#39; Decode Base64-string to 1-D bytes-array</span></span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; i = Image(a)                   &#39; Convert 1-D bytes-array to image</span></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; i.Show(30, 30)                 &#39; Show image at location (x, y)</span></span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Showpage</span></span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; &#39; Example using 1-D bytes-array (a):</span></span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; s = base64.Encode_Base64(a)    &#39; Encode 1-D bytes-array to Base64-string</span></span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; a = base64.Decode_Base64(s)    &#39; Decode Base64-string to 1-D bytes-array</span></span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; i = Image(a)                   &#39; Convert 1-D bytes-array to image</span></span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; i.Show(50, 50)                 &#39; Show image at location (x, y)</span></span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Showpage</span></span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Pause</span></span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;</span></span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; -- End Demo code --- --- --- --- --- --- --- --- --- --- --- ---</span></span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a><span class="pp">Unit</span> base64</span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a><span class="pp">Export</span> Encode_Base64, Decode_Base64</span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Initialize the helper maps (this code executes only once at load time).</span></span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a><span class="dt">Dim</span> Map1(<span class="dv">0</span> <span class="kw">To</span> <span class="dv">63</span>)</span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a><span class="dt">Dim</span> Map2(<span class="dv">0</span> <span class="kw">To</span> <span class="dv">127</span>)</span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a>i = <span class="dv">0</span></span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Set Map1</span></span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>c = <span class="dv">65</span>  <span class="kw">To</span>  <span class="dv">90</span>: Map1(i) = c: i++: <span class="kw">Next </span> <span class="co">&#39; Asc(&quot;A&quot;) To Asc(&quot;Z&quot;)</span></span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>c = <span class="dv">97</span>  <span class="kw">To</span> <span class="dv">122</span>: Map1(i) = c: i++: <span class="kw">Next </span> <span class="co">&#39; Asc(&quot;a&quot;) To Asc(&quot;z&quot;)</span></span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>c = <span class="dv">48</span>  <span class="kw">To</span>  <span class="dv">57</span>: Map1(i) = c: i++: <span class="kw">Next </span> <span class="co">&#39; Asc(&quot;0&quot;) To Asc(&quot;9&quot;)</span></span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a>Map1(i) = <span class="dv">43</span> : i++  <span class="co">&#39; Asc(&quot;+&quot;)</span></span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a>Map1(i) = <span class="dv">47</span> : i++  <span class="co">&#39; Asc(&quot;/&quot;)</span></span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Set Map2</span></span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>i = <span class="dv">0</span> <span class="kw">To</span> <span class="dv">127</span> <span class="kw">Do</span> Map2(i) = <span class="dv">255</span></span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a><span class="kw">For </span>i = <span class="dv">0</span> <span class="kw">To</span>  <span class="dv">63</span> <span class="kw">Do</span> Map2(Map1(i)) = i</span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Encodes a 1-D bytes array (integers) into Base64 format string.</span></span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; No blanks or line breaks are inserted.</span></span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Parameters:</span></span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;   InData    1-D bytes array containing the data bytes to be encoded;</span></span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;             or, &quot;File_Name&quot; string to load into 1-D bytes array;</span></span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;             or, File-Number (opened-for-input) to load into 1-D bytes array.</span></span>
<span id="cb20-87"><a href="#cb20-87" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Returns:    a string with the Base64 encoded data (that you can embed in</span></span>
<span id="cb20-88"><a href="#cb20-88" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;             your source code).</span></span>
<span id="cb20-89"><a href="#cb20-89" aria-hidden="true" tabindex="-1"></a><span class="kw">Func </span>Encode_Base64(InData)</span>
<span id="cb20-90"><a href="#cb20-90" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> Out                   <span class="co">&#39; (As Byte)</span></span>
<span id="cb20-91"><a href="#cb20-91" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> ODataLen, OLen, ILen  <span class="co">&#39; (As Long)</span></span>
<span id="cb20-92"><a href="#cb20-92" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> ip0, ip, op           <span class="co">&#39; (As Long)</span></span>
<span id="cb20-93"><a href="#cb20-93" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> i0, i1, i2            <span class="co">&#39; (As Byte)</span></span>
<span id="cb20-94"><a href="#cb20-94" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> o0, o1, o2, o3        <span class="co">&#39; (As Byte)</span></span>
<span id="cb20-95"><a href="#cb20-95" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> s, i, fn, f           <span class="co">&#39; as SmallBASIC...</span></span>
<span id="cb20-96"><a href="#cb20-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-97"><a href="#cb20-97" aria-hidden="true" tabindex="-1"></a>  <span class="kw">If </span><span class="fu">Isarray</span>(InData) <span class="kw">Then</span>     <span class="co">&#39; 1-D bytes array (integers) supplied</span></span>
<span id="cb20-98"><a href="#cb20-98" aria-hidden="true" tabindex="-1"></a>    ILen = <span class="fu">Len</span>(InData)</span>
<span id="cb20-99"><a href="#cb20-99" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; Make life easier by loading 1-D bytes array from file:</span></span>
<span id="cb20-100"><a href="#cb20-100" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Else</span></span>
<span id="cb20-101"><a href="#cb20-101" aria-hidden="true" tabindex="-1"></a>    f = <span class="fu">Isnumber</span>(InData)      <span class="co">&#39; Set flag to close file</span></span>
<span id="cb20-102"><a href="#cb20-102" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>f <span class="kw">Then</span>                 <span class="co">&#39; An opened file # (For Input) supplied</span></span>
<span id="cb20-103"><a href="#cb20-103" aria-hidden="true" tabindex="-1"></a>      fn = InData</span>
<span id="cb20-104"><a href="#cb20-104" aria-hidden="true" tabindex="-1"></a>    <span class="kw">Else</span>                      <span class="co">&#39; A &quot;filename&quot; supplied</span></span>
<span id="cb20-105"><a href="#cb20-105" aria-hidden="true" tabindex="-1"></a>      fn = <span class="fu">Freefile</span></span>
<span id="cb20-106"><a href="#cb20-106" aria-hidden="true" tabindex="-1"></a>      <span class="fu">Open</span> InData <span class="kw">For Input As</span> <span class="cn">#fn</span></span>
<span id="cb20-107"><a href="#cb20-107" aria-hidden="true" tabindex="-1"></a>    <span class="kw">Fi</span></span>
<span id="cb20-108"><a href="#cb20-108" aria-hidden="true" tabindex="-1"></a>    ILen = <span class="fu">Lof</span>(fn)</span>
<span id="cb20-109"><a href="#cb20-109" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Dim</span> InData(<span class="dv">1</span> <span class="kw">To</span> ILen)     <span class="co">&#39; (It&#39;s much faster to allocate space first!)</span></span>
<span id="cb20-110"><a href="#cb20-110" aria-hidden="true" tabindex="-1"></a>    <span class="kw">For </span>i = <span class="dv">1</span> <span class="kw">To</span> ILen <span class="kw">Do</span> InData(i) = <span class="fu">Bgetc</span>(fn)</span>
<span id="cb20-111"><a href="#cb20-111" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If Not</span> f <span class="kw">Then Cl</span>ose <span class="cn">#fn</span>   <span class="co">&#39; (Don&#39;t close file if File # supplied)</span></span>
<span id="cb20-112"><a href="#cb20-112" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Fi</span></span>
<span id="cb20-113"><a href="#cb20-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-114"><a href="#cb20-114" aria-hidden="true" tabindex="-1"></a>  <span class="kw">If </span>ILen = <span class="dv">0</span> <span class="kw">Then En</span>code_Base64 = <span class="st">&quot;&quot;</span>: <span class="kw">Exit Func</span></span>
<span id="cb20-115"><a href="#cb20-115" aria-hidden="true" tabindex="-1"></a>  ODataLen = (ILen * <span class="dv">4</span> + <span class="dv">2</span>) \ <span class="dv">3</span>   <span class="co">&#39; Output length without padding</span></span>
<span id="cb20-116"><a href="#cb20-116" aria-hidden="true" tabindex="-1"></a>  OLen = ((ILen + <span class="dv">2</span>) \ <span class="dv">3</span>) * <span class="dv">4</span>     <span class="co">&#39; Output length including padding</span></span>
<span id="cb20-117"><a href="#cb20-117" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Dim</span> Out(<span class="dv">0</span> <span class="kw">To</span> OLen - <span class="dv">1</span>)</span>
<span id="cb20-118"><a href="#cb20-118" aria-hidden="true" tabindex="-1"></a>  ip0 = <span class="fu">LBound</span>(InData)</span>
<span id="cb20-119"><a href="#cb20-119" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; Encode base64 bytes array (See Wikipedia for this...):</span></span>
<span id="cb20-120"><a href="#cb20-120" aria-hidden="true" tabindex="-1"></a>  <span class="kw">While </span>ip &lt; ILen</span>
<span id="cb20-121"><a href="#cb20-121" aria-hidden="true" tabindex="-1"></a>    i0 = InData(ip0 + ip): ip++</span>
<span id="cb20-122"><a href="#cb20-122" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>ip &lt; ILen <span class="kw">Then i1</span> = InData(ip0 + ip): ip++ <span class="kw">Else</span> i1 = <span class="dv">0</span></span>
<span id="cb20-123"><a href="#cb20-123" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>ip &lt; ILen <span class="kw">Then i2</span> = InData(ip0 + ip): ip++ <span class="kw">Else</span> i2 = <span class="dv">0</span></span>
<span id="cb20-124"><a href="#cb20-124" aria-hidden="true" tabindex="-1"></a>    o0 = i0 \ <span class="dv">4</span></span>
<span id="cb20-125"><a href="#cb20-125" aria-hidden="true" tabindex="-1"></a>    o1 = ((i0 <span class="kw">Band</span> <span class="dv">3</span>) * <span class="dv">0x10</span>) <span class="kw">Bor</span> (i1 \ <span class="dv">0x10</span>)</span>
<span id="cb20-126"><a href="#cb20-126" aria-hidden="true" tabindex="-1"></a>    o2 = ((i1 <span class="kw">Band</span> <span class="dv">0xF</span>) * <span class="dv">4</span>)  <span class="kw">Bor</span> (i2 \ <span class="dv">0x40</span>)</span>
<span id="cb20-127"><a href="#cb20-127" aria-hidden="true" tabindex="-1"></a>    o3 = i2 <span class="kw">Band</span> <span class="dv">0x3F</span></span>
<span id="cb20-128"><a href="#cb20-128" aria-hidden="true" tabindex="-1"></a>    Out(op) = Map1(o0): op++</span>
<span id="cb20-129"><a href="#cb20-129" aria-hidden="true" tabindex="-1"></a>    Out(op) = Map1(o1): op++</span>
<span id="cb20-130"><a href="#cb20-130" aria-hidden="true" tabindex="-1"></a>    Out(op) = <span class="kw">Iff</span>(op &lt; ODataLen, Map1(o2), <span class="dv">61</span>): op++  <span class="co">&#39; 61 is Asc(&quot;=&quot;)</span></span>
<span id="cb20-131"><a href="#cb20-131" aria-hidden="true" tabindex="-1"></a>    Out(op) = <span class="kw">Iff</span>(op &lt; ODataLen, Map1(o3), <span class="dv">61</span>): op++  <span class="co">&#39; 61 is Asc(&quot;=&quot;)</span></span>
<span id="cb20-132"><a href="#cb20-132" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Wend</span></span>
<span id="cb20-133"><a href="#cb20-133" aria-hidden="true" tabindex="-1"></a>  s = <span class="st">&quot;&quot;</span>: <span class="kw">For </span>i <span class="kw">In</span> Out <span class="kw">Do</span> s += <span class="fu">Chr</span>(i)  <span class="co">&#39; Bytes-to-String</span></span>
<span id="cb20-134"><a href="#cb20-134" aria-hidden="true" tabindex="-1"></a>  Encode_Base64 = s</span>
<span id="cb20-135"><a href="#cb20-135" aria-hidden="true" tabindex="-1"></a><span class="kw">End Func</span></span>
<span id="cb20-136"><a href="#cb20-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-137"><a href="#cb20-137" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Decodes a string from Base64 format.</span></span>
<span id="cb20-138"><a href="#cb20-138" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Parameters</span></span>
<span id="cb20-139"><a href="#cb20-139" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;   s         a Base64 String to be decoded.</span></span>
<span id="cb20-140"><a href="#cb20-140" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Returns:    a 1-D array containing the decoded data bytes (integers).</span></span>
<span id="cb20-141"><a href="#cb20-141" aria-hidden="true" tabindex="-1"></a><span class="kw">Func </span>Decode_Base64(s)</span>
<span id="cb20-142"><a href="#cb20-142" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> IBuf, Out       <span class="co">&#39; (As Byte array)</span></span>
<span id="cb20-143"><a href="#cb20-143" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> i0, i1, i2, i3  <span class="co">&#39; (As Byte)</span></span>
<span id="cb20-144"><a href="#cb20-144" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> b0, b1, b2, b3  <span class="co">&#39; (As Byte)</span></span>
<span id="cb20-145"><a href="#cb20-145" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> o0, o1, o2      <span class="co">&#39; (As Byte)</span></span>
<span id="cb20-146"><a href="#cb20-146" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> OLen, ip, op    <span class="co">&#39; (As Long)</span></span>
<span id="cb20-147"><a href="#cb20-147" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> ILen = <span class="fu">Len</span>(s)   <span class="co">&#39; (As Long)</span></span>
<span id="cb20-148"><a href="#cb20-148" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Local</span> i               <span class="co">&#39; as SmallBASIC...</span></span>
<span id="cb20-149"><a href="#cb20-149" aria-hidden="true" tabindex="-1"></a>  <span class="kw">If </span>(ILen <span class="kw">Mod</span> <span class="dv">4</span>) <span class="kw">Or</span> (ILen = <span class="dv">0</span>) <span class="kw">Then</span>  <span class="co">&#39; Data error</span></span>
<span id="cb20-150"><a href="#cb20-150" aria-hidden="true" tabindex="-1"></a>    <span class="kw">Throw</span> <span class="st">&quot;Length of Base64 encoded input string is not a multiple of 4.&quot;</span></span>
<span id="cb20-151"><a href="#cb20-151" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Fi</span></span>
<span id="cb20-152"><a href="#cb20-152" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Dim</span> IBuf(<span class="dv">0</span> <span class="kw">To</span> ILen - <span class="dv">1</span>)</span>
<span id="cb20-153"><a href="#cb20-153" aria-hidden="true" tabindex="-1"></a>  <span class="kw">For </span>i = <span class="dv">1</span> <span class="kw">To</span> ILen <span class="kw">Do</span> IBuf(i - <span class="dv">1</span>) = <span class="fu">Asc</span>(<span class="fu">Mid</span>(s, i, <span class="dv">1</span>))  <span class="co">&#39; String-to-Bytes</span></span>
<span id="cb20-154"><a href="#cb20-154" aria-hidden="true" tabindex="-1"></a>  <span class="kw">While </span>ILen &gt; <span class="dv">0</span></span>
<span id="cb20-155"><a href="#cb20-155" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>IBuf(ILen - <span class="dv">1</span>) &lt;&gt; <span class="dv">61</span> <span class="kw">Then Ex</span>it Loop  <span class="co">&#39; 61 is Asc(&quot;=&quot;)</span></span>
<span id="cb20-156"><a href="#cb20-156" aria-hidden="true" tabindex="-1"></a>    ILen--</span>
<span id="cb20-157"><a href="#cb20-157" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Wend</span></span>
<span id="cb20-158"><a href="#cb20-158" aria-hidden="true" tabindex="-1"></a>  OLen = (ILen * <span class="dv">3</span>) \ <span class="dv">4</span></span>
<span id="cb20-159"><a href="#cb20-159" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Dim</span> Out(<span class="dv">0</span> <span class="kw">To</span> OLen - <span class="dv">1</span>)  <span class="co">&#39; 1-D bytes array</span></span>
<span id="cb20-160"><a href="#cb20-160" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; Decode base64 bytes array (See Wikipedia for this...):</span></span>
<span id="cb20-161"><a href="#cb20-161" aria-hidden="true" tabindex="-1"></a>  <span class="kw">While </span>ip &lt; ILen</span>
<span id="cb20-162"><a href="#cb20-162" aria-hidden="true" tabindex="-1"></a>    i0 = IBuf(ip): ip++</span>
<span id="cb20-163"><a href="#cb20-163" aria-hidden="true" tabindex="-1"></a>    i1 = IBuf(ip): ip++</span>
<span id="cb20-164"><a href="#cb20-164" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>ip &lt; ILen <span class="kw">Then i2</span> = IBuf(ip): ip++ <span class="kw">Else</span> i2 = <span class="dv">65</span>  <span class="co">&#39; 65 is Asc(&quot;A&quot;)</span></span>
<span id="cb20-165"><a href="#cb20-165" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>ip &lt; ILen <span class="kw">Then i3</span> = IBuf(ip): ip++ <span class="kw">Else</span> i3 = <span class="dv">65</span>  <span class="co">&#39; 65 is Asc(&quot;A&quot;)</span></span>
<span id="cb20-166"><a href="#cb20-166" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>i0 &gt; <span class="dv">127</span> <span class="kw">Or</span> i1 &gt; <span class="dv">127</span> <span class="kw">Or</span> i2 &gt; <span class="dv">127</span> <span class="kw">Or</span> i3 &gt; <span class="dv">127</span> <span class="kw">Then</span></span>
<span id="cb20-167"><a href="#cb20-167" aria-hidden="true" tabindex="-1"></a>      <span class="kw">Throw</span> <span class="st">&quot;Illegal character in Base64 encoded data.&quot;</span>  <span class="co">&#39; Data error</span></span>
<span id="cb20-168"><a href="#cb20-168" aria-hidden="true" tabindex="-1"></a>    <span class="kw">Fi</span></span>
<span id="cb20-169"><a href="#cb20-169" aria-hidden="true" tabindex="-1"></a>    b0 = Map2(i0)</span>
<span id="cb20-170"><a href="#cb20-170" aria-hidden="true" tabindex="-1"></a>    b1 = Map2(i1)</span>
<span id="cb20-171"><a href="#cb20-171" aria-hidden="true" tabindex="-1"></a>    b2 = Map2(i2)</span>
<span id="cb20-172"><a href="#cb20-172" aria-hidden="true" tabindex="-1"></a>    b3 = Map2(i3)</span>
<span id="cb20-173"><a href="#cb20-173" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>b0 &gt; <span class="dv">63</span> <span class="kw">Or</span> b1 &gt; <span class="dv">63</span> <span class="kw">Or</span> b2 &gt; <span class="dv">63</span> <span class="kw">Or</span> b3 &gt; <span class="dv">63</span> <span class="kw">Then</span></span>
<span id="cb20-174"><a href="#cb20-174" aria-hidden="true" tabindex="-1"></a>      <span class="kw">Throw</span> <span class="st">&quot;Illegal character in Base64 encoded data.&quot;</span>  <span class="co">&#39; Data error</span></span>
<span id="cb20-175"><a href="#cb20-175" aria-hidden="true" tabindex="-1"></a>    <span class="kw">Fi</span></span>
<span id="cb20-176"><a href="#cb20-176" aria-hidden="true" tabindex="-1"></a>    o0 = (b0 * <span class="dv">4</span>) <span class="kw">Bor</span> (b1 \ <span class="dv">0x10</span>)</span>
<span id="cb20-177"><a href="#cb20-177" aria-hidden="true" tabindex="-1"></a>    o1 = ((b1 <span class="kw">Band</span> <span class="dv">0xF</span>) * <span class="dv">0x10</span>) <span class="kw">Bor</span> (b2 \ <span class="dv">4</span>)</span>
<span id="cb20-178"><a href="#cb20-178" aria-hidden="true" tabindex="-1"></a>    o2 = ((b2 <span class="kw">Band</span> <span class="dv">3</span>) * <span class="dv">0x40</span>) <span class="kw">Bor</span> b3</span>
<span id="cb20-179"><a href="#cb20-179" aria-hidden="true" tabindex="-1"></a>    Out(op) = o0: op++</span>
<span id="cb20-180"><a href="#cb20-180" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>op &lt; OLen <span class="kw">Then Ou</span>t(op) = o1: op++</span>
<span id="cb20-181"><a href="#cb20-181" aria-hidden="true" tabindex="-1"></a>    <span class="kw">If </span>op &lt; OLen <span class="kw">Then Ou</span>t(op) = o2: op++</span>
<span id="cb20-182"><a href="#cb20-182" aria-hidden="true" tabindex="-1"></a>  <span class="kw">Wend</span></span>
<span id="cb20-183"><a href="#cb20-183" aria-hidden="true" tabindex="-1"></a>  Decode_Base64 = Out</span>
<span id="cb20-184"><a href="#cb20-184" aria-hidden="true" tabindex="-1"></a><span class="kw">End Func</span></span></code></pre></div>
<p>You may create a PNG image + transparency color with an external
image editor, and then you may also decode it as a Base64 PNG string (to
store it within the source code). Another useful option is to use XPM
image format (See Part-3 above) with transparency color, instead of
color number you just write NONE, like this:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>a &lt;&lt; <span class="st">&quot;x c NONE&quot;</span>  <span class="co">&#39; Character &quot;x&quot; is transparency color</span></span></code></pre></div>
<h3 id="console-version-example">Console version example</h3>
<p>The following creates a plist file and composite sprite sheet which
can be used with cocos2d development</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> backgnd = <span class="dv">0xFF5A5D39</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> shadow = <span class="dv">0xFF080c08</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> alpha = <span class="dv">0x5a5d39</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="dt">const</span> alphaShadow = <span class="dv">0x80080c08</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="dt">dim</span> tileset</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;eating e0000.png&quot;</span>,       <span class="dv">13</span>]</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;eating n0000.png&quot;</span>,       <span class="dv">13</span>]</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;eating ne0000.png&quot;</span>,      <span class="dv">13</span>]</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;eating nw0000.png&quot;</span>,      <span class="dv">13</span>]</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;eating s0000.png&quot;</span>,       <span class="dv">13</span>]</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;eating se0000.png&quot;</span>,      <span class="dv">13</span>]</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;eating sw0000.png&quot;</span>,      <span class="dv">13</span>]</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;eating w0000.png&quot;</span>,       <span class="dv">13</span>]</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;headshaking e0000.png&quot;</span>,  <span class="dv">11</span>]</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;headshaking n0000.png&quot;</span>,  <span class="dv">11</span>]</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;headshaking ne0000.png&quot;</span>, <span class="dv">11</span>]</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;headshaking nw0000.png&quot;</span>, <span class="dv">11</span>]</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;headshaking s0000.png&quot;</span>,  <span class="dv">11</span>]</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;headshaking se0000.png&quot;</span>, <span class="dv">11</span>]</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;headshaking sw0000.png&quot;</span>, <span class="dv">11</span>]</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;headshaking w0000.png&quot;</span>,  <span class="dv">11</span>]</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;running e0000.png&quot;</span>,      <span class="dv">11</span>]</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;running n0000.png&quot;</span>,      <span class="dv">11</span>]</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;running ne0000.png&quot;</span>,     <span class="dv">11</span>]</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;running nw0000.png&quot;</span>,     <span class="dv">11</span>]</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;running s0000.png&quot;</span>,      <span class="dv">11</span>]</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;running se0000.png&quot;</span>,     <span class="dv">11</span>]</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;running sw0000.png&quot;</span>,     <span class="dv">11</span>]</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;running w0000.png&quot;</span>,      <span class="dv">11</span>]</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;stopped0000.png&quot;</span>,         <span class="dv">7</span>]</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;walking e0000.png&quot;</span>,      <span class="dv">11</span>]</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;walking n0000.png&quot;</span>,      <span class="dv">11</span>]</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;walking ne0000.png&quot;</span>,     <span class="dv">11</span>]</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;walking nw0000.png&quot;</span>,     <span class="dv">11</span>]</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;walking s0000.png&quot;</span>,      <span class="dv">11</span>]</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;walking se0000.png&quot;</span>,     <span class="dv">11</span>]</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;walking sw0000.png&quot;</span>,     <span class="dv">11</span>]</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>tileset &lt;&lt; [<span class="st">&quot;walking w0000.png&quot;</span>,      <span class="dv">11</span>]</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a><span class="kw">func </span>colorToAlpha(x)</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>  <span class="kw">if </span>(x == backgnd) <span class="kw">then re</span>turn alpha</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>  <span class="kw">if </span>(x == shadow) <span class="kw">then re</span>turn alphaShadow</span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>  <span class="kw">return</span> x</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a><span class="kw">sub </span>print_include()</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>  <span class="dt">local</span> j, pattern, count, out, varname</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>  out &lt;&lt; <span class="st">&quot;#pragma once&quot;</span></span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>  <span class="kw">for </span>j = <span class="dv">0</span> <span class="kw">to</span> <span class="fu">len</span>(tileset) - <span class="dv">1</span></span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>    x = <span class="dv">0</span></span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>    y = <span class="dv">0</span></span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>    [pattern, count] = tileset[j]</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>    varname = <span class="fu">translate</span>(pattern, <span class="st">&quot;0000.png&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>    varname = <span class="fu">translate</span>(varname, <span class="st">&quot; &quot;</span>, <span class="st">&quot;_&quot;</span>)</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>    varname = <span class="fu">upper</span>(varname)</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>    pattern = <span class="fu">translate</span>(pattern, <span class="st">&quot;0000&quot;</span>, <span class="st">&quot;%04d&quot;</span>)</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>    out &lt;&lt; <span class="st">&quot;const char *&quot;</span> + varname + <span class="st">&quot;_PNG = \&quot;&quot; + pattern + &quot;</span>\<span class="st">&quot;;&quot;</span></span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>    out &lt;&lt; <span class="st">&quot;const int   &quot;</span> + varname + <span class="st">&quot;_PNG_SIZE = &quot;</span> + count + <span class="st">&quot;;&quot;</span></span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>  <span class="kw">next </span>j</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tsave</span> <span class="st">&quot;Classes/horse.h&quot;</span>, out</span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a><span class="kw">sub </span>print_plist(<span class="dt">byref</span> images)</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>  <span class="dt">local</span> plist, i</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>  <span class="dt">dim</span> plist</span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;&lt;?xml version=\&quot;</span><span class="dv">1.0</span>\<span class="st">&quot; encoding=\&quot;</span>UTF<span class="dv">-8</span>\<span class="st">&quot;?&gt;&quot;</span></span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;&lt;!DOCTYPE plist PUBLIC \&quot;</span>-//Apple//DTD PLIST <span class="dv">1.0</span>//EN\<span class="st">&quot; \&quot;</span>http://www.apple.com/DTDs/PropertyList<span class="dv">-1.0</span>.dtd\<span class="st">&quot;&gt;&quot;</span></span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;&lt;plist version=\&quot;</span><span class="dv">1.0</span>\<span class="st">&quot;&gt;&quot;</span></span>
<span id="cb22-72"><a href="#cb22-72" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;&lt;dict&gt;&quot;</span></span>
<span id="cb22-73"><a href="#cb22-73" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;  &lt;key&gt;texture&lt;/key&gt;&quot;</span></span>
<span id="cb22-74"><a href="#cb22-74" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;    &lt;dict&gt;&quot;</span></span>
<span id="cb22-75"><a href="#cb22-75" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;      &lt;key&gt;width&lt;/key&gt;&quot;</span></span>
<span id="cb22-76"><a href="#cb22-76" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;      &lt;integer&gt;&quot;</span> + w + <span class="st">&quot;&lt;/integer&gt;&quot;</span></span>
<span id="cb22-77"><a href="#cb22-77" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;      &lt;key&gt;height&lt;/key&gt;&quot;</span></span>
<span id="cb22-78"><a href="#cb22-78" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;      &lt;integer&gt;&quot;</span> + h + <span class="st">&quot;&lt;/integer&gt;&quot;</span></span>
<span id="cb22-79"><a href="#cb22-79" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;    &lt;/dict&gt;&quot;</span></span>
<span id="cb22-80"><a href="#cb22-80" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;    &lt;key&gt;frames&lt;/key&gt;&quot;</span></span>
<span id="cb22-81"><a href="#cb22-81" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;    &lt;dict&gt;&quot;</span></span>
<span id="cb22-82"><a href="#cb22-82" aria-hidden="true" tabindex="-1"></a>  <span class="kw">for </span>i = <span class="dv">0</span> <span class="kw">to</span> <span class="fu">len</span>(images) - <span class="dv">1</span></span>
<span id="cb22-83"><a href="#cb22-83" aria-hidden="true" tabindex="-1"></a>    png = images[i]</span>
<span id="cb22-84"><a href="#cb22-84" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;      &lt;key&gt;&quot;</span> + png.name + <span class="st">&quot;&lt;/key&gt;&quot;</span></span>
<span id="cb22-85"><a href="#cb22-85" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;      &lt;dict&gt;&quot;</span></span>
<span id="cb22-86"><a href="#cb22-86" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;key&gt;x&lt;/key&gt;&quot;</span></span>
<span id="cb22-87"><a href="#cb22-87" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;integer&gt;&quot;</span> + png.x + <span class="st">&quot;&lt;/integer&gt;&quot;</span></span>
<span id="cb22-88"><a href="#cb22-88" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;key&gt;y&lt;/key&gt;&quot;</span></span>
<span id="cb22-89"><a href="#cb22-89" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;integer&gt;&quot;</span> + png.y + <span class="st">&quot;&lt;/integer&gt;&quot;</span></span>
<span id="cb22-90"><a href="#cb22-90" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;key&gt;width&lt;/key&gt;&quot;</span></span>
<span id="cb22-91"><a href="#cb22-91" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;integer&gt;&quot;</span> + png.width + <span class="st">&quot;&lt;/integer&gt;&quot;</span></span>
<span id="cb22-92"><a href="#cb22-92" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;key&gt;height&lt;/key&gt;&quot;</span></span>
<span id="cb22-93"><a href="#cb22-93" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;integer&gt;&quot;</span> + png.height + <span class="st">&quot;&lt;/integer&gt;&quot;</span></span>
<span id="cb22-94"><a href="#cb22-94" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;key&gt;offsetX&lt;/key&gt;&quot;</span></span>
<span id="cb22-95"><a href="#cb22-95" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;real&gt;0&lt;/real&gt;&quot;</span></span>
<span id="cb22-96"><a href="#cb22-96" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;key&gt;offsetY&lt;/key&gt;&quot;</span></span>
<span id="cb22-97"><a href="#cb22-97" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;real&gt;0&lt;/real&gt;&quot;</span></span>
<span id="cb22-98"><a href="#cb22-98" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;key&gt;originalWidth&lt;/key&gt;&quot;</span></span>
<span id="cb22-99"><a href="#cb22-99" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;integer&gt;&quot;</span> + png.width + <span class="st">&quot;&lt;/integer&gt;&quot;</span></span>
<span id="cb22-100"><a href="#cb22-100" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;key&gt;originalHeight&lt;/key&gt;&quot;</span></span>
<span id="cb22-101"><a href="#cb22-101" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;        &lt;integer&gt;&quot;</span> + png.height + <span class="st">&quot;&lt;/integer&gt;&quot;</span></span>
<span id="cb22-102"><a href="#cb22-102" aria-hidden="true" tabindex="-1"></a>    plist &lt;&lt; <span class="st">&quot;      &lt;/dict&gt;&quot;</span></span>
<span id="cb22-103"><a href="#cb22-103" aria-hidden="true" tabindex="-1"></a>  <span class="kw">next </span>i</span>
<span id="cb22-104"><a href="#cb22-104" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;    &lt;/dict&gt;&quot;</span></span>
<span id="cb22-105"><a href="#cb22-105" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;  &lt;/dict&gt;</span></span>
<span id="cb22-106"><a href="#cb22-106" aria-hidden="true" tabindex="-1"></a>  plist &lt;&lt; <span class="st">&quot;&lt;/plist&gt;</span></span>
<span id="cb22-107"><a href="#cb22-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tsave</span> <span class="st">&quot;Resources/horse.plist&quot;</span>, plist</span>
<span id="cb22-108"><a href="#cb22-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tsave</span> <span class="st">&quot;linux-build/bin/Debug/MobileCup/Resources/horse.plist&quot;</span>, plist</span>
<span id="cb22-109"><a href="#cb22-109" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb22-110"><a href="#cb22-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-111"><a href="#cb22-111" aria-hidden="true" tabindex="-1"></a><span class="kw">sub </span>main(<span class="dt">byref</span> tileset)</span>
<span id="cb22-112"><a href="#cb22-112" aria-hidden="true" tabindex="-1"></a>  <span class="dt">local</span> i, j, x, y, pattern, count, images, composite, width, height</span>
<span id="cb22-113"><a href="#cb22-113" aria-hidden="true" tabindex="-1"></a>  <span class="dt">dim</span> images</span>
<span id="cb22-114"><a href="#cb22-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-115"><a href="#cb22-115" aria-hidden="true" tabindex="-1"></a>  width = <span class="dv">0</span></span>
<span id="cb22-116"><a href="#cb22-116" aria-hidden="true" tabindex="-1"></a>  height = <span class="dv">0</span></span>
<span id="cb22-117"><a href="#cb22-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-118"><a href="#cb22-118" aria-hidden="true" tabindex="-1"></a>  <span class="kw">for </span>j = <span class="dv">0</span> <span class="kw">to</span> <span class="fu">len</span>(tileset) - <span class="dv">1</span></span>
<span id="cb22-119"><a href="#cb22-119" aria-hidden="true" tabindex="-1"></a>    x = <span class="dv">0</span></span>
<span id="cb22-120"><a href="#cb22-120" aria-hidden="true" tabindex="-1"></a>    y = <span class="dv">0</span></span>
<span id="cb22-121"><a href="#cb22-121" aria-hidden="true" tabindex="-1"></a>    [pattern, count] = tileset[j]</span>
<span id="cb22-122"><a href="#cb22-122" aria-hidden="true" tabindex="-1"></a>    <span class="kw">for </span>i = <span class="dv">0</span> <span class="kw">to</span> count</span>
<span id="cb22-123"><a href="#cb22-123" aria-hidden="true" tabindex="-1"></a>      png = <span class="fu">image</span>(<span class="st">&quot;images/horse/&quot;</span> + <span class="fu">format</span>(pattern, i))</span>
<span id="cb22-124"><a href="#cb22-124" aria-hidden="true" tabindex="-1"></a>      png.clip(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb22-125"><a href="#cb22-125" aria-hidden="true" tabindex="-1"></a>      png.filter(<span class="kw">use</span> colorToAlpha(x))</span>
<span id="cb22-126"><a href="#cb22-126" aria-hidden="true" tabindex="-1"></a>      png.name = <span class="fu">format</span>(pattern, i)</span>
<span id="cb22-127"><a href="#cb22-127" aria-hidden="true" tabindex="-1"></a>      png.x = x</span>
<span id="cb22-128"><a href="#cb22-128" aria-hidden="true" tabindex="-1"></a>      png.y = height</span>
<span id="cb22-129"><a href="#cb22-129" aria-hidden="true" tabindex="-1"></a>      x += png.width + <span class="dv">1</span></span>
<span id="cb22-130"><a href="#cb22-130" aria-hidden="true" tabindex="-1"></a>      y = <span class="kw">iff</span>(png.height &gt; y, png.height, y)</span>
<span id="cb22-131"><a href="#cb22-131" aria-hidden="true" tabindex="-1"></a>      images &lt;&lt; png</span>
<span id="cb22-132"><a href="#cb22-132" aria-hidden="true" tabindex="-1"></a>    <span class="kw">next </span>i</span>
<span id="cb22-133"><a href="#cb22-133" aria-hidden="true" tabindex="-1"></a>    width = <span class="kw">iff</span>(x &gt; width, x, width)</span>
<span id="cb22-134"><a href="#cb22-134" aria-hidden="true" tabindex="-1"></a>    height += y</span>
<span id="cb22-135"><a href="#cb22-135" aria-hidden="true" tabindex="-1"></a>  <span class="kw">next </span>j</span>
<span id="cb22-136"><a href="#cb22-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-137"><a href="#cb22-137" aria-hidden="true" tabindex="-1"></a>  composite = <span class="fu">image</span>(width, height)</span>
<span id="cb22-138"><a href="#cb22-138" aria-hidden="true" tabindex="-1"></a>  <span class="kw">for </span>i = <span class="dv">0</span> <span class="kw">to</span> <span class="fu">len</span>(images) - <span class="dv">1</span></span>
<span id="cb22-139"><a href="#cb22-139" aria-hidden="true" tabindex="-1"></a>    png = images[i]</span>
<span id="cb22-140"><a href="#cb22-140" aria-hidden="true" tabindex="-1"></a>    composite.paste(png, png.x, png.y)</span>
<span id="cb22-141"><a href="#cb22-141" aria-hidden="true" tabindex="-1"></a>  <span class="kw">next </span>i</span>
<span id="cb22-142"><a href="#cb22-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-143"><a href="#cb22-143" aria-hidden="true" tabindex="-1"></a>  composite.save(<span class="st">&quot;Resources/horse.png&quot;</span>)</span>
<span id="cb22-144"><a href="#cb22-144" aria-hidden="true" tabindex="-1"></a>  composite.save(<span class="st">&quot;linux-build/bin/Debug/MobileCup/Resources/horse.png&quot;</span>)</span>
<span id="cb22-145"><a href="#cb22-145" aria-hidden="true" tabindex="-1"></a>  print_plist(images)</span>
<span id="cb22-146"><a href="#cb22-146" aria-hidden="true" tabindex="-1"></a>  print_include()</span>
<span id="cb22-147"><a href="#cb22-147" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb22-148"><a href="#cb22-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-149"><a href="#cb22-149" aria-hidden="true" tabindex="-1"></a>main(tileset)</span></code></pre></div>
  <div class="lavenderBox">
    <div class="header">Code samples using IMAGE</div>
    <div class="linklist">
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/units section/base64.bas">base64.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/graphics 1/conrec-sb-v01.bas">conrec-sb-v01.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/games 2/ezinvaders.bas">ezinvaders.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/code demos/image demo.bas">image demo.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/graphics 4/image_demo.bas">image_demo.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/code demos/image_demo_2.bas">image_demo_2.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/graphics 4/img2ascii.bas">img2ascii.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/graphics 1/lakeshore_demo.bas">lakeshore_demo.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/games 3/lander.bas">lander.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/applications/loadsavebmp.bas">loadsavebmp.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/applications/loadsavebmp_fltk.bas">loadsavebmp_fltk.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/graphics 3/man race.bas">man race.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/graphics 1/sphere.bas">sphere.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/graphics 4/spiral2.bas">spiral2.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/graphics 4/voxel.bas">voxel.bas </a>&nbsp;
      <a target="_github" href="https://raw.githubusercontent.com/smallbasic/smallbasic.samples/master/graphics 3/walking test.bas">walking test.bas </a>&nbsp;
    </div>
  </div>
  <div class="lavenderBox">
    <div class="header">Graphics</div>
    <div class="linklist">
      <a href="/reference/611.html">ARC </a>&nbsp;
      <a href="/reference/612.html">CHART </a>&nbsp;
      <a href="/reference/613.html">CIRCLE </a>&nbsp;
      <a href="/reference/614.html">COLOR </a>&nbsp;
      <a href="/reference/615.html">DRAW </a>&nbsp;
      <a href="/reference/616.html">DRAWPOLY </a>&nbsp;
      <a href="/reference/617.html"><strong>IMAGE</strong> </a>&nbsp;
      <a href="/reference/618.html">LINE </a>&nbsp;
      <a href="/reference/619.html">PAINT </a>&nbsp;
      <a href="/reference/627.html">PEN </a>&nbsp;
      <a href="/reference/620.html">PLOT </a>&nbsp;
      <a href="/reference/628.html">POINT </a>&nbsp;
      <a href="/reference/621.html">PSET </a>&nbsp;
      <a href="/reference/622.html">RECT </a>&nbsp;
      <a href="/reference/629.html">RGB </a>&nbsp;
      <a href="/reference/630.html">RGBF </a>&nbsp;
      <a href="/reference/1429.html">SHOWPAGE </a>&nbsp;
      <a href="/reference/631.html">TEXTHEIGHT </a>&nbsp;
      <a href="/reference/632.html">TEXTWIDTH </a>&nbsp;
      <a href="/reference/633.html">TXTH </a>&nbsp;
      <a href="/reference/634.html">TXTW </a>&nbsp;
      <a href="/reference/623.html">VIEW </a>&nbsp;
      <a href="/reference/624.html">WINDOW </a>&nbsp;
      <a href="/reference/1526.html">XMAX </a>&nbsp;
      <a href="/reference/635.html">XPOS </a>&nbsp;
      <a href="/reference/1527.html">YMAX </a>&nbsp;
      <a href="/reference/636.html">YPOS </a>&nbsp;
    </div>
  </div>
</div>
    <div class="pagefooter">
      This page was last edited on Mon, 6 Nov 2023 21:11:57 +0100
 |
      <a href="https://en.wikipedia.org/wiki/Markdown" target="_blank" rel="nofollow">Markdown</a>
      processed with
      <a href="https://pandoc.org/MANUAL.html#pandocs-markdown" target="_blank" rel="nofollow">pandoc 3.1.12.1</a>
    </div>
  </div>
</div>
  </body>
</html>
