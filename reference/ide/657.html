<h1 id="sub">SUB</h1>
<blockquote>
<p>SUB foo ([ [BYREF] var1, [BYREF] var2, …, [BYREF] varN])</p>
</blockquote>
<p>Declare a sub procedure <code>foo</code>. The optional parameters <code>var1</code> to <code>varN</code> can be all data types supported by SmallBASIC. Sub procedures do not return a value but can return argument values when declared as BYREF. A sub procedure ends with the keywords END or END SUB. The keyword LOCAL can be used to restrict the scope of a variable to the sub procedure only. Sub procedures can be nested within a sub procedure.</p>
<p>With SUB (and FUNC) you can divide your program into many logical, independent and reusable blocks, instead of writing a long “spaghetti code”. Instead of using GOSUB and GOTO you should prefere to use sub procedures or functions.</p>
<p>For more information, see FUNC, LOCAL and BYREF.</p>
<h3 id="example-1-passing-x-by-value-default">Example 1: Passing x by value (default)</h3>
<pre><code>x = 9
routine1(x)           &#39; Output: 9

Sub routine1(x)
  Print x
End</code></pre>
<h3 id="example-2-passing-x-by-reference-byref-x">Example 2: Passing x by reference (BYREF x)</h3>
<pre><code>x = 9
Print x              &#39; Output: 9
routine2(x)          &#39; Output: 9
Print x              &#39; Output: 10

Sub routine2(Byref x)
  Print x
  x = 10
End</code></pre>
<h3 id="example-3-passing-x-by-reference-x">Example 3: Passing x by reference (<span class="citation" data-cites="x">@x</span>)</h3>
<pre><code>x = 9
Print x              &#39; Output: 9
routine3(x)          &#39; Output: 9
Print x              &#39; Output: 10

Sub routine3(@x)
  Print x
  x = 10
End</code></pre>
<h3 id="example-4-use-the-local-keyword-for-local-variables">Example 4: Use the LOCAL keyword for local variables</h3>
<pre><code>x = 9
routine4(x)         &#39; Output: 9 
Print x             &#39; Output: 9

Sub routine4(y)
  Local x
  Print y
  x = 12            &#39; x is local, the global variable x will not be changed
End Sub</code></pre>
<h3 id="example-5-nested-sub-procedures">Example 5: Nested sub procedures</h3>
<pre><code>x = 9
routine5(x)         &#39; Output: 100 (Passing &#39;x&#39; by value to nested procedures)
Print x             &#39; Output: 9

Sub routine5(x)
  local x
  x = 100
  routine6(x)
  Sub routine6(x)
    Print x
  End Sub
End Sub</code></pre>
