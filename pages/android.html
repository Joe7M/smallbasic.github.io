<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SmallBASIC | android</title>
  <meta name="description" content="SmallBASIC | One more basic">
  <link rel="canonical" href="/android.html">
  <link rel="keywords" href="android">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon" type="image/png" href="/images/sb-desktop-32x32.png">
</head>
  <body>
<div class="wrapAll clearfix">
  <div class="sidebar">
    <div class="logo">
      <a href="/"><img src='/images/sb-desktop-128x128.png' alt="logo"></a>
    </div>
    <div class="navigation">
      <h4>SmallBASIC</h4>
      <ul>
        <li><a href="/">Main page</a></li>
        <li><a href="/pages/download.html">Download</a></li>
        <li><a href="/pages/reference.html">Language reference</a></li>
        <li><a href="/pages/samples.html">Code library</a></li>
      </ul>
      <hr class="menuSeparator"/>
      <ul>
        <li><a href="/pages/articles.html">Artices</a></li>
        <li><a href="/pages/community.html">Community</a></li>
        <li><a href="/pages/changelog.html">Changelog</a></li>
        <li><a href="/pages/screenshots.html">Screenshots</a></li>
        <li><a href="/pages/links.html">Links</a></li>
      </ul>
    </div>
  </div>
  <div class="mainsection">
    <div class="tabs clearfix">
      <div class="tabsLeft">
        <ul>
          <li><a href="#" class="active">Article</a></li>
          <li><a href="https://www.syntaxbomb.com/index.php/board,54.0.html">Discuss</a></li>
        </ul>
      </div>
      <div id="simpleSearch">
        <div id="submitSearch"></div>
        <form action="https://github.com/smallbasic/smallbasic.github.io/search"
              target="_github" accept-charset="UTF-8" method="get" style="display:inline">
          <input type="hidden" class="js-site-search-type-field" name="type">
          <input type="hidden" name="utf8" value="✓">
          <input type="hidden" name="l" value="Visual Basic">
          <input type="text" name="q" placeholder="Search" size="12" id="searchInput">
        </form>
      </div>
      <div class="tabsRight">
        <ul>
          <li><a target="_github" href="https://github.com/smallbasic/smallbasic.github.io/blob/master/_build/pages/android.markdown">View source</a></li>
          <li><a target="_github" href="https://github.com/smallbasic/smallbasic.github.io/commits/master/_build/pages/android.markdown">View history</a></li>
        </ul>
      </div>
    </div>
<div class="article">
<h1 id="android">Android</h1>
<blockquote>
<p>SmallBASIC for Android guide</p>
</blockquote>
<h2 id="getting-started">Getting started</h2>
<p>The system menu is accessed by the “three vertical dots” button in the bottom right corner of the screen.</p>
<p><img src="/images/android_menu1.png" title="System Menu button" /></p>
<p>The items displayed depend on whether the file browser, code editor or a running program is active.</p>
<p><img src="/images/android_menu2.png" title="System Menu" /></p>
<p>When the file browser is active you should see an “Editor” item followed by either [ON] or [OFF]. If it shows “OFF” then press the item to switch it to “ON”.</p>
<p>Before you start editing a program you should navigate to the “SmallBASIC” folder. You can get there by pressing “[Go Up]” until you hit the root level “/”. You should then see an entry for “SmallBASIC”. If there’s not enough room to display the entire text it might appear as something like “storage/emulated/0/SmallBAS~”. You may need to accept a permission request to allow access to this folder when you first launch SmallBASIC for the first time. Also make sure you <strong>do not</strong> select the internal “net.sourceforge.smallbasic” folder since this could be overwritten in a future SmallBASIC update.</p>
<p><img src="/images/android_navigate.png" title="System Menu" /></p>
<p>Now press the “[File]” link in the top left corner of the screen. This will take you to the file manager. From here you can enter a file name then press “[New]” to create it. Now press “[&lt;&lt;]” to exit the file manager.</p>
<p><img src="/images/android_create_file.png" title="System Menu" /></p>
<p>Your new file should be listed in the file browser. Press the file name link. You should finally see the program editor. If the keypad does not appear, press the system menu button and select “Show Keypad”. For best results you may need to install a separate keyboard. “AnySoftKeyboard”, “Hacker’s Key” and “GBoard” all seem to work well.</p>
<p>Start typing out your program. When you are ready to test your program, press the system menu button then select “Run”.</p>
<p>In the help screen, the “&gt;” characters on the left are buttons to expand (or contract) the help item contents. In the editor, the line number display also functions as a scrollbar. If you want to write a quick experimental program you can use the “[Scratch]” option to bypass the above file name setup steps.</p>
<p><img src="/images/android_scroll.png" title="System Menu" /></p>
<p>All of the above UI elements are written in SmallBASIC, see <a href="https://github.com/smallbasic/SmallBASIC/blob/master/src/platform/android/app/src/main/assets/main.bas">main.bas</a></p>
<h2 id="using-location-sensor-and-text-to-speech-services.">Using Location, Sensor and Text to speech services.</h2>
<p>To use the following services, your program must start with the following two lines:</p>
<pre><code>option predef load modules
import android</code></pre>
<p>The first line tell SmallBASIC to dynamically load runtime modules. The second line imports the android module.</p>
<h2 id="location">Location</h2>
<p>GPS_ON</p>
<pre><code>android.gps_on()</code></pre>
<p>Instructs the system to commence recording location information. Note: This relies on the device location services being enabled by the user.</p>
<p>GPS_OFF</p>
<pre><code>android.gps_off()</code></pre>
<p>Turns off recording of location information.</p>
<p>LOCATION</p>
<pre><code>l = android.location()</code></pre>
<p>Returns a MAP variable holding the following details:</p>
<ul>
<li>latitude - the latitude, in degrees.</li>
<li>longitude - the longitude, in degrees.</li>
<li>speed - the speed if it is available, in meters/second over ground.</li>
<li>accuracy - the estimated accuracy of this location, in meters.</li>
<li>altitude - altitude if available, in meters</li>
<li>bearing - the bearing, in degrees</li>
<li>provider - whether data obtained from GPS or network</li>
</ul>
<p>Note: the location data is updated internally at 1 second intervals.</p>
<p>For more details, see: <a href="https://developer.android.com/reference/android/location/Location.html" class="uri">https://developer.android.com/reference/android/location/Location.html</a></p>
<h2 id="sensor">Sensor</h2>
<p>SENSOR_ON</p>
<pre><code>const SensorAccelerometer = 0
const SensorMagneticField = 1
const SensorGyroscope = 2
const SensorLight = 3
const SensorProximity = 4
android.sensor_on(n)</code></pre>
<p>Enables the given sensor (currently only one may be enabled at a time). Throws an exception if the given sensor is not available (for example, not all devices have a gyroscope).</p>
<p>SENSOR_OFF</p>
<pre><code>android.sensor_off()</code></pre>
<p>Disables any active sensor.</p>
<p>SENSOR</p>
<pre><code>s = android.sensor()</code></pre>
<p>Returns a MAP variable holding sensor details. x, y, z - The spatial position light - (SensorLight) distance - (SensorProximity)</p>
<p>For more details, see:</p>
<ul>
<li><a href="http://i.stack.imgur.com/skBui.jpg" class="uri">http://i.stack.imgur.com/skBui.jpg</a></li>
<li><a href="https://developer.android.com/reference/android/hardware/SensorEvent.html" class="uri">https://developer.android.com/reference/android/hardware/SensorEvent.html</a></li>
</ul>
<h2 id="text-to-speech">Text to speech</h2>
<p>Output data as spoken text.</p>
<p>Notes: - The text to speech module takes a moment to initialise. This is performed the first time you call SPEAK. - You may want to turn off the system setting to send TTS usage statistics to google before using this feature.</p>
<p>TTS_PITCH</p>
<pre><code>android.tts_pitch(n)</code></pre>
<p>Sets the voice pitch (default is 1.0).</p>
<p>TTS_RATE</p>
<pre><code>android.tts_rate(n)</code></pre>
<p>Sets the rate of speaking (default is 1.0)</p>
<p>TTS_LANG</p>
<pre><code>android.tts_lang(s)</code></pre>
<p>Sets the locale, for example “en”, “de”, “fr” for English, German, France. May cause the system to download the language codec if not already installed.</p>
<p>TTS_OFF</p>
<pre><code>android.tts_off()</code></pre>
<p>Turns off text to speech output.</p>
<p>SPEAK</p>
<pre><code>android.speak(text)</code></pre>
<p>Performs text to speech (default is ENGLISH).</p>
<h2 id="how-to-edit-and-run-a-program">How to edit and run a program</h2>
<h3 id="internal-editor">Internal editor:</h3>
<ul>
<li>Display the menu, then click Editor [ON]</li>
<li>Tap a file name in the browser.</li>
</ul>
<h3 id="desktop-smallbasic">Desktop SmallBASIC</h3>
<ul>
<li>Enter the port number in the setup screen.</li>
<li>Connect your desktop machine and your mobile device to the same wifi network.</li>
<li>Launch desktop SmallBASIC.</li>
<li>Right click and select “Editor [ON]”.</li>
<li>Navigate to the .bas file then click the link to begin editing.</li>
<li>Press F3, then enter the address shown in the android about screen (IP:PORT).</li>
<li>Enter the security code, then press enter.</li>
<li>Once the settings are successful, you can press F4 to upload your program again.</li>
</ul>
<h3 id="file-browser">File browser:</h3>
<ul>
<li>Write and debug the program with desktop SmallBASIC.</li>
<li>Copy the .bas file to your SDCard.</li>
<li>Launch SmallBASIC, then navigate to the file in the built-in file browser, then tap the link to run.</li>
<li>or, navigate to the file in the system file browser, then tap the link to start SmallBASIC and run the program.</li>
</ul>
<h3 id="separate-editor-on-device">Separate editor on device:</h3>
<ul>
<li>Write your SmallBASIC program in a separate editor on your device.</li>
<li>Task switch to SmallBASIC, then run the program using the built-in file browser.</li>
</ul>
<h3 id="web-service">Web Service:</h3>
<ul>
<li>Enter the port number in the setup screen.</li>
<li>Connect your desktop machine and your mobile device to the same wifi network.</li>
<li>Launch a desktop browser then enter http://:</li>
<li>A simple web page is displayed. Enter your SmallBASIC program then click run.</li>
</ul>
<h3 id="qrcode">QRcode:</h3>
<ul>
<li>Write and debug the program with desktop SmallBASIC.</li>
<li>Convert the program to an QRCode image.</li>
<li>Scan the QRCode in the separate decoder program.</li>
<li>Click okay to launch SmallBASIC and the encoded program.</li>
</ul>
<p>Note: the tool to convert source code to QR codes is here: <a href="https://github.com/smallbasic/SmallBASIC/tree/master/web/qrcode">qrcode</a></p>
<h2 id="playing-music">Playing music</h2>
<p>PLAY(“file:///sdcard/VoiceRecorder/recordings/hello.mp3”)</p>
<p>Use the PLAY command with the prefix “file://” to play an audio track. For supported formats, see:</p>
<p><a href="https://developer.android.com/guide/appendix/media-formats.html" class="uri">https://developer.android.com/guide/appendix/media-formats.html</a></p>
<h2 id="release-history">Release history</h2>
<p><a href="android_changelog.html">Android changelog</a></p>
<h2 id="privacy-policy">Privacy Policy <a href="#privacy-policy"></a></h2>
<p>SmallBASIC uses external storage permissions to allow editing of program code.</p>
<p>The internet permission allows the OPEN statement to work with the HTTP prefix. It is also used with the “Online” link to load sample programs from http://smallbasic.github.io.</p>
<p>The listen service enabled in the setup screen allows program launching via the IDE or a Web Browser. This feature also relies on the internet permission.</p>
<p>SmallBASIC uses the location permission allowing program code access to the device location.</p>
<p>This Privacy Policy is effective as of 22/08/2019</p>
</div>
    <div class="pagefooter">
      This page was last edited on Sat, 31 Aug 2019 08:14:50 +1000
 |
      <a href="https://en.wikipedia.org/wiki/Markdown" target="_blank" rel="nofollow">Markdown</a>
      processed with
      <a href="https://pandoc.org/MANUAL.html#pandocs-markdown" target="_blank" rel="nofollow">pandoc 2.5</a>
      | Template by <a href="http://html5-templates.com/" target="_blank" rel="nofollow">HTML5 Templates</a>
    </div>
  </div>
</div>
  </body>
</html>
